// SPDX-License-Identifier: GPL-3.0
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//
//      MMWKd:..                                                                                    ..:dKWMM
//      MKl.                                                                                            .lKW
//      O'       ..''''''''''''.     .''''''.     .'''''.      .''''''''''''''.     .''''''''''''..       'O
//      '     .ckKNNWNWWWWWWWWWk.   .xNWWNWNl    ,0WWWWW0,     lNWWWWWWWWWNWNk'    ;0NNNWWWWWWWWNNKkc.     '
//           ,OWMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMMMM0,    ;KMMMMMMMMMMMMMMMMWO,
//          .kMMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMMM0,    ;KMMMMMMMMMMMMMMMMMMMk.
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMM0,    :KMMMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMM0,    :KMMMMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMM0,    ;0NNWWMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMM0,     .'.',;lkNMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMK;              ,kWMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMX:    .:oxxdc'    .dWMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMWd.   ,OWMMMMMXl.   '0MMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMX;   .kMMMMMMMMK,   .xMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMM0'   .OMMMMMMMMX;   .xMMMMMMMMMMMM0'
//          .OMMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMK,    lNMMMMMMWx.   '0MMMMMMMMMMMMO.
//           lNMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMWd.   .:x0KKKkc.   .dWMMMMMMMMMMMNl
//      .    .c0WMMMMMMMMMMMMMMO.   .kMMMMMWo    ,KMMMMMK,     lWMMMMNd.     ....     .xNMMMMMMMMMMW0c.    .
//      l      .,lddxxxxxxxxxxxc.    :xxxxxd,    .lxxxxxl.     ,dxxxxxd:.            .cdxxxxxxxxddl,.      l
//      No.                                                                                              .oN
//      MW0l'                                                                                          'l0WM
//      MMMWKd;.                                                                                    .;dKWMMM
//
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//                                                                                                                                                                                  //
//      @dev            ::              Aron Mauritala Ayuk                                                                                                                                          //
//      @msg            ::              stereo@iii6.xyz                                                                                                                                   //
//      @github         ::              @stereoIII6
//      @twitter        ::              @stereoIII6                                                                                                                                              //
//                                                                                                                                                                                  //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//                                                                                                                                                                                  //
//      @dev            ::              Juan Xavier Valverde                                                                                                                                    //
//      @msg            ::              juanxavier@iii6.xyz                                                                                                                               //
//      @twitter        ::              @JuanXavier                                                                                                                                             //
//      @github         ::              @JuanXavier                                                                                                                                             //
//                                                                                                                                                                                  //                                                                                                                                                                                 //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//  *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//                                                                                                                                                                                  //
//      @company        ::              Fractio Holding                                                                                                                                                                       //
//      @title          ::              iii6 Price Math Functions                                                                                                                            //
//      @description    ::              Asset Safes Contract                                                                                                                           //
//      @version        ::              0.0.1                                                                                                                                       //
//      @purpose        ::              Price Math Function Library                                                                                                          //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//  *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

pragma solidity ^0.8.7;

import "@openzeppelin/contracts/utils/Counters.sol";
import "@openzeppelin/contracts/utils/Strings.sol";
import "./iii6Math.sol";
import "./iii6PriceConsumer.sol";

contract iii6PriceMath is iii6Math {
    iii6PriceConsumer priceFeed;

    /**
     * @dev selects the network specific iii6PriceConsumer address and loads the contract by chain id
     */
    constructor() {
        if (block.chainid == 1) {
            // ███████╗████████╗██╗░░██╗  ███╗░░░███╗░█████╗░██╗███╗░░██╗
            // ██╔════╝╚══██╔══╝██║░░██║  ████╗░████║██╔══██╗██║████╗░██║
            // █████╗░░░░░██║░░░███████║  ██╔████╔██║███████║██║██╔██╗██║
            // ██╔══╝░░░░░██║░░░██╔══██║  ██║╚██╔╝██║██╔══██║██║██║╚████║
            // ███████╗░░░██║░░░██║░░██║  ██║░╚═╝░██║██║░░██║██║██║░╚███║
            // ╚══════╝░░░╚═╝░░░╚═╝░░╚═╝  ╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═╝╚═╝░░╚══╝

            priceFeed = iii6PriceConsumer(
                0xe47da91495C75e1D48569f343938380D8303b1f2 // wrong address
            );
        } else if (block.chainid == 5) {
            // ░██████╗░░█████╗░███████╗██████╗░██╗░░░░░██╗
            // ██╔════╝░██╔══██╗██╔════╝██╔══██╗██║░░░░░██║
            // ██║░░██╗░██║░░██║█████╗░░██████╔╝██║░░░░░██║
            // ██║░░╚██╗██║░░██║██╔══╝░░██╔══██╗██║░░░░░██║
            // ╚██████╔╝╚█████╔╝███████╗██║░░██║███████╗██║
            // ░╚═════╝░░╚════╝░╚══════╝╚═╝░░╚═╝╚══════╝╚═╝

            priceFeed = iii6PriceConsumer(
                0xe47da91495C75e1D48569f343938380D8303b1f2 // wrong address
            );
        } else if (block.chainid == 137) {
            // ██████╗░░█████╗░██╗░░░░░██╗░░░██╗░██████╗░░█████╗░███╗░░██╗
            // ██╔══██╗██╔══██╗██║░░░░░╚██╗░██╔╝██╔════╝░██╔══██╗████╗░██║
            // ██████╔╝██║░░██║██║░░░░░░╚████╔╝░██║░░██╗░██║░░██║██╔██╗██║
            // ██╔═══╝░██║░░██║██║░░░░░░░╚██╔╝░░██║░░╚██╗██║░░██║██║╚████║
            // ██║░░░░░╚█████╔╝███████╗░░░██║░░░╚██████╔╝╚█████╔╝██║░╚███║
            // ╚═╝░░░░░░╚════╝░╚══════╝░░░╚═╝░░░░╚═════╝░░╚════╝░╚═╝░░╚══╝

            priceFeed = iii6PriceConsumer(
                0xe47da91495C75e1D48569f343938380D8303b1f2 // wrong address
            );
        } else if (block.chainid == 80001) {
            //  ███╗░░░███╗██╗░░░██╗███╗░░░███╗██████╗░░█████╗░██╗
            //  ████╗░████║██║░░░██║████╗░████║██╔══██╗██╔══██╗██║
            //  ██╔████╔██║██║░░░██║██╔████╔██║██████╦╝███████║██║
            //  ██║╚██╔╝██║██║░░░██║██║╚██╔╝██║██╔══██╗██╔══██║██║
            //  ██║░╚═╝░██║╚██████╔╝██║░╚═╝░██║██████╦╝██║░░██║██║
            //  ╚═╝░░░░░╚═╝░╚═════╝░╚═╝░░░░░╚═╝╚═════╝░╚═╝░░╚═╝╚═╝

            priceFeed = iii6PriceConsumer(
                0xe47da91495C75e1D48569f343938380D8303b1f2
            );
        }
    }

    // ██████╗░██████╗░██╗██╗░░░██╗░█████╗░████████╗███████╗  ███████╗███╗░░██╗██╗░░██╗
    // ██╔══██╗██╔══██╗██║██║░░░██║██╔══██╗╚══██╔══╝██╔════╝  ██╔════╝████╗░██║╚██╗██╔╝
    // ██████╔╝██████╔╝██║╚██╗░██╔╝███████║░░░██║░░░█████╗░░  █████╗░░██╔██╗██║░╚███╔╝░
    // ██╔═══╝░██╔══██╗██║░╚████╔╝░██╔══██║░░░██║░░░██╔══╝░░  ██╔══╝░░██║╚████║░██╔██╗░
    // ██║░░░░░██║░░██║██║░░╚██╔╝░░██║░░██║░░░██║░░░███████╗  ██║░░░░░██║░╚███║██╔╝╚██╗
    // ╚═╝░░░░░╚═╝░░╚═╝╚═╝░░░╚═╝░░░╚═╝░░╚═╝░░░╚═╝░░░╚══════╝  ╚═╝░░░░░╚═╝░░╚══╝╚═╝░░╚═╝

    /**
     * @dev gets value of eth derived from priceFeed.[...]UsdPrice()
     * @param // INTERNAL
     * @return uint256 eth price in usdc
     */
    function _getWethUsdc() internal view returns (uint256) {
        // stores call price in price
        int256 price = priceFeed.WethUsdPrice();
        // exit with converted uint price
        return uint256(price);
    }

    /**
     * @dev gets value of gas coin derived from priceFeed.[...]UsdPrice()
     * @param // INTERNAL
     * @return uint256 gas coin price in usdc
     */
    function _getCoinUsdc() internal view returns (uint256) {
        // stores call price in price
        int256 price = priceFeed.CoinUsdPrice();
        // exit with converted uint price
        return uint256(price);
    }

    /**
     * @dev gets value of custom token x derived from priceFeed.[...]UsdPrice()
     * @param // INTERNAL
     * @return uint256 custom token x price in usdc
     */
    function _getXUsdc() internal view returns (uint256) {
        // stores call price in price
        int256 price = priceFeed.XUsdPrice();
        // exit with converted uint price
        return uint256(price);
    }

    /**
     * @dev gets value of custom token y derived from priceFeed.[...]UsdPrice()
     * @param // INTERNAL
     * @return uint256 custom token y price in usdc
     */
    function _getYUsdc() internal view returns (uint256) {
        // stores call price in price
        int256 price = priceFeed.YUsdPrice();
        // exit with converted uint price
        return uint256(price);
    }

    // ██████╗░██╗░░░██╗██████╗░██╗░░░░░██╗░█████╗░  ███████╗███╗░░██╗██╗░░██╗
    // ██╔══██╗██║░░░██║██╔══██╗██║░░░░░██║██╔══██╗  ██╔════╝████╗░██║╚██╗██╔╝
    // ██████╔╝██║░░░██║██████╦╝██║░░░░░██║██║░░╚═╝  █████╗░░██╔██╗██║░╚███╔╝░
    // ██╔═══╝░██║░░░██║██╔══██╗██║░░░░░██║██║░░██╗  ██╔══╝░░██║╚████║░██╔██╗░
    // ██║░░░░░╚██████╔╝██████╦╝███████╗██║╚█████╔╝  ██║░░░░░██║░╚███║██╔╝╚██╗
    // ╚═╝░░░░░░╚═════╝░╚═════╝░╚══════╝╚═╝░╚════╝░  ╚═╝░░░░░╚═╝░░╚══╝╚═╝░░╚═╝

    /**
     * @dev gets value of eth derived from INTERNAL => _get[...]Usdc()
     * @param // EXTERNAL
     * @return uint256 eth price in usdc
     */

    function ETH_USD() external view returns (uint256) {
        return _getWethUsdc();
    }

    /**
     * @dev gets value of gascoin derived from iii6PriceConsumer => _get[...]Usdc()
     * @param // EXTERNAL
     * @return uint256 gascoin price in usdc
     */
    function COIN_USD() external view returns (uint256) {
        return _getCoinUsdc();
    }

    /**
     * @dev gets value of custon token x derived from iii6PriceConsumer => _get[...]Usdc()
     * @param // EXTERNAL
     * @return uint256 custon token x price in usdc
     */
    function X_USD() external view returns (uint256) {
        return _getXUsdc();
    }

    /**
     * @dev gets value of custon token y derived from iii6PriceConsumer => _get[...]Usdc()
     * @param // EXTERNAL
     * @return uint256 custon token y price in usdc
     */
    function Y_USD() external view returns (uint256) {
        return _getYUsdc();
    }

    /**
     * @dev sets the oracle for custom token x and adapts digit length
     * @param // EXTERNAL
     * @param _oracle address of the chainlink pricefeed oracle contract
     * @param _digits number of decimals passed by oracle
     * @return bool success
     */
    function setX(address _oracle, uint256 _digits) external returns (bool) {
        return priceFeed.setX(_oracle, _digits);
    }

    /**
     * @dev sets the oracle for custom token y and adapts digit length
     * @param // EXTERNAL
     * @param _oracle address of the chainlink pricefeed oracle contract
     * @param _digits number of decimals passed by oracle
     * @return bool success
     */
    function setY(address _oracle, uint256 _digits) external returns (bool) {
        return priceFeed.setY(_oracle, _digits);
    }

    /**
     * @dev gets value of eth denominated in gascoin derived from _get[...]Usdc()
     * @return ethPriceCoin uint256 price of eth denominated in gascoin
     */
    function getEthPriceInCoin() external view returns (uint256 ethPriceCoin) {
        // get prices from feed
        uint256 ethPriceUsd = _getWethUsdc();
        uint256 coinPriceUsd = _getCoinUsdc();
        // exit with first / last price ratio
        ethPriceCoin = _divide(ethPriceUsd * 10**18, coinPriceUsd);
    }

    /**
     * @dev gets value of eth denominated in custom token x derived from _get[...]Usdc()
     * @return ethPriceX uint256 price of eth denominated in custom token x
     */
    function getEthPriceInX() external view returns (uint256 ethPriceX) {
        // get prices from feed
        uint256 ethPriceUsd = _getWethUsdc();
        uint256 xPriceUsd = _getXUsdc();
        // exit with first / last price ratio
        ethPriceX = _divide(ethPriceUsd * 10**18, xPriceUsd);
    }

    /**
     * @dev gets value of eth denominated in custom token y derived from _get[...]Usdc()
     * @return ethPriceY uint256 price of eth denominated in custom token y
     */
    function getEthPriceInY() external view returns (uint256 ethPriceY) {
        // get prices from feed
        uint256 ethPriceUsd = _getWethUsdc();
        uint256 yPriceUsd = _getYUsdc();
        // exit with first / last price ratio
        ethPriceY = _divide(ethPriceUsd * 10**18, yPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return coinPriceEth uint256 price of gascoin denominated in eth
     */
    function getCoinPriceInEth() external view returns (uint256 coinPriceEth) {
        // get prices from feed
        uint256 coinPriceUsd = _getCoinUsdc();
        uint256 ethPriceUsd = _getWethUsdc();
        // exit with first / last price ratio
        coinPriceEth = _divide(coinPriceUsd * 10**18, ethPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return coinPriceX uint256 price of gascoin denominated in eth
     */
    function getCoinPriceInX() external view returns (uint256 coinPriceX) {
        // get prices from feed
        uint256 coinPriceUsd = _getCoinUsdc();
        uint256 xPriceUsd = _getXUsdc();
        // exit with first / last price ratio
        coinPriceX = _divide(coinPriceUsd * 10**18, xPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return coinPriceY uint256 price of gascoin denominated in eth
     */
    function getCoinPriceInY() external view returns (uint256 coinPriceY) {
        // get prices from feed
        uint256 coinPriceUsd = _getCoinUsdc();
        uint256 yPriceUsd = _getYUsdc();
        // exit with first / last price ratio
        coinPriceY = _divide(coinPriceUsd * 10**18, yPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return xPriceEth uint256 price of gascoin denominated in eth
     */
    function getXPriceInEth() external view returns (uint256 xPriceEth) {
        // get prices from feed
        uint256 ethPriceUsd = _getWethUsdc();
        uint256 xPriceUsd = _getXUsdc();
        // exit with first / last price ratio
        xPriceEth = _divide(xPriceUsd * 10**18, ethPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return xPriceCoin uint256 price of gascoin denominated in eth
     */
    function getXPriceInCoin() external view returns (uint256 xPriceCoin) {
        // get prices from feed
        uint256 coinPriceUsd = _getCoinUsdc();
        uint256 xPriceUsd = _getXUsdc();
        // exit with first / last price ratio
        xPriceCoin = _divide(xPriceUsd * 10**18, coinPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return xPriceY uint256 price of gascoin denominated in eth
     */
    function getXPriceInY() external view returns (uint256 xPriceY) {
        // get prices from feed
        uint256 yPriceUsd = _getYUsdc();
        uint256 xPriceUsd = _getXUsdc();
        // exit with first / last price ratio
        xPriceY = _divide(xPriceUsd * 10**18, yPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return yPriceEth uint256 price of gascoin denominated in eth
     */
    function getYPriceInEth() external view returns (uint256 yPriceEth) {
        // get prices from feed
        uint256 ethPriceUsd = _getWethUsdc();
        uint256 yPriceUsd = _getYUsdc();
        // exit with first / last price ratio
        yPriceEth = _divide(yPriceUsd * 10**18, ethPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return yPriceCoin uint256 price of gascoin denominated in eth
     */
    function getYPriceInCoin() external view returns (uint256 yPriceCoin) {
        // get prices from feed
        uint256 coinPriceUsd = _getCoinUsdc();
        uint256 yPriceUsd = _getYUsdc();
        // exit with first / last price ratio
        yPriceCoin = _divide(yPriceUsd * 10**18, coinPriceUsd);
    }

    /**
     * @dev gets value of gascoin denominated in eth derived from _get[...]Usdc()
     * @return yPriceX uint256 price of gascoin denominated in eth
     */
    function getYPriceInX() external view returns (uint256 yPriceX) {
        // get prices from feed
        uint256 yPriceUsd = _getYUsdc();
        uint256 xPriceUsd = _getXUsdc();
        // exit with first / last price ratio
        yPriceX = _divide(yPriceUsd * 10**18, xPriceUsd);
    }

    /**
     * @dev Returns price for input amount in chosen currency
     * @param _amt uint256 amount of usd
     * @return Result of division
     */
    function coinPriceOfUSD(uint256 _amt) external view returns (uint256) {
        // add 18 digits
        uint256 usdamount = _amt * 10**16;
        uint256 coinprice = _getCoinUsdc();
        return _divide((usdamount * 10**18), coinprice);
    }

    /**
     * @dev Returns price for input amount in chosen currency
     * @param _amt uint256 amount of usd
     * @return Result of division
     */
    function ethPriceOfUSD(uint256 _amt) external view returns (uint256) {
        // add 18 digits
        uint256 ethamount = _amt * 10**13;
        uint256 coinprice = _getWethUsdc();
        return _divide((ethamount * 10**18), coinprice);
    }

    /**
     * @dev Returns price for input amount in chosen currency
     * @param _amt uint256 amount of usd
     * @return Result of division
     */
    function xPriceOfUSD(uint256 _amt) external view returns (uint256) {
        // add 18 digits
        uint256 usdamount = _amt * 10**16;
        uint256 coinprice = _getXUsdc();
        return _divide((usdamount * 10**18), coinprice);
    }

    /**
     * @dev Returns price for input amount in chosen currency
     * @param _amt uint256 amount of usd
     * @return Result of division
     */
    function yPriceOfUSD(uint256 _amt) external view returns (uint256) {
        // add 18 digits
        uint256 yamount = _amt * 10**13;
        uint256 coinprice = _getYUsdc();
        return _divide((yamount * 10**18), coinprice);
    }
}
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//
//      MMWKd:..                                                                                    ..:dKWMM
//      MKl.                                                                                            .lKW
//      O'       ..''''''''''''.     .''''''.     .'''''.      .''''''''''''''.     .''''''''''''..       'O
//      '     .ckKNNWNWWWWWWWWWk.   .xNWWNWNl    ,0WWWWW0,     lNWWWWWWWWWNWNk'    ;0NNNWWWWWWWWNNKkc.     '
//           ,OWMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMMMM0,    ;KMMMMMMMMMMMMMMMMWO,
//          .kMMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMMM0,    ;KMMMMMMMMMMMMMMMMMMMk.
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMM0,    :KMMMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMM0,    :KMMMMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMM0,    ;0NNWWMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMM0,     .'.',;lkNMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMK;              ,kWMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMX:    .:oxxdc'    .dWMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMWd.   ,OWMMMMMXl.   '0MMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMX;   .kMMMMMMMMK,   .xMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMM0'   .OMMMMMMMMX;   .xMMMMMMMMMMMM0'
//          .OMMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMK,    lNMMMMMMWx.   '0MMMMMMMMMMMMO.
//           lNMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMWd.   .:x0KKKkc.   .dWMMMMMMMMMMMNl
//      .    .c0WMMMMMMMMMMMMMMO.   .kMMMMMWo    ,KMMMMMK,     lWMMMMNd.     ....     .xNMMMMMMMMMMW0c.    .
//      l      .,lddxxxxxxxxxxxc.    :xxxxxd,    .lxxxxxl.     ,dxxxxxd:.            .cdxxxxxxxxddl,.      l
//      No.                                                                                              .oN
//      MW0l'                                                                                          'l0WM
//      MMMWKd;.                                                                                    .;dKWMMM
//
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
